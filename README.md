# Project3

<br>

# Quick Compo

<br>

## Description


This is an app to improve customer success and satisfaction.

Manage client requests for customer support and track the quality of the service in a fast and simple way.

## User Stories

-  **404:** As a user I get to see a 404 page with a feedback message if I try to reach a page that does not exist so that I know it's my fault.
-  **Signup:** As an anonymous user I can sign up on the platform so that I can start creating and managing tournaments.
-  **Login:** As a user I can login to the platform so that I can access my profile and start creating and managing tournaments.
-  **Logout:** As a logged in user I can logout from the platform so no one else can use it.
-  **Dashboard page**: As a logged user i can see and filter data from messages received by type, date and agent assigned (depending on the role type).
-  **Mailbox page**: As a logged user i can see all the chaâ€ s and tickets generated by company's customers.
-  **Clients**: As a logged user i can see clients information displayed, edit and delete client data.
-  **Settings**: As a logged user you can edit your profile, add users and assign roles (in case you're an admin).
-  **Help**: As a logged user i can chat with a help agent or create a ticket to receive help in 24 hours.
-  **Workflow**: As a logged user i can automate the proccess of assigning agents to support requests.


## Backlog

- AI API to recognize authomatically urgent support requests and keywords.
- Workflows to trigger tailor made messages for user to let them know the status of their ticket.  
- Create a widget for the app to embed the help component in their web/apps.
- Build an integration with email tools


<br>


# [Client / Frontend](https://miro.com/app/board/o9J_kwDw1uU=/)

## React Router Routes (React App)

| Path                         | Component            | Permissions                | Behavior                                                  |
| ---------------------------- | -------------------- | -------------------------- | --------------------------------------------------------- |
| `/login`                     | LoginPage            | anon only `<AnonRoute>`    | Login form, navigates to home page after login.           |
| `/signup`                    | SignupPage           | anon only  `<AnonRoute>`   | Signup form, navigates to home page after signup.         |
| `/`                          | HomePage             | public `<Route>`           | Home page.                                                |
| `/app/userId/settings`              | ProfilePage          | user only `<PrivateRoute>` | User and player profile for the current user.             |
| `/app/userId/settings/edit`        | EditProfilePage      | user only `<PrivateRoute>` | Edit user profile form.                                   |
| `/app/userId/settings/admin`          | Add users to company account and assign roles | user only `<PrivateRoute>` | Create new tournament form.                               |
| `/app/userId/help`               | Chat with a help agent or create a support ticket.   | user only `<PrivateRoute>` | Tournaments list.                                         |
| `/app/userId/mailbox` | See all the messages types in one page.  | user only `<PrivateRoute>` | Tournament details. Shows players list and other details. |
| `/app/userId/mailbox/chats`    | PlayerDetailsPage    | user only `<PrivateRoute>` | Single player details.                                    |
| `/app/userId/mailbox/tickets`    | See all tickets, mark them as solved, edit them and delete them.  | user only `<PrivateRoute>` | Tournament rankings list.                                 |




## Components

Pages:

- LoginPage

- SignupPage

- HomePage

- Mailbox

- Chats

- Tickets

- Clients

- Companies

- Settings

- Help

  

Components:

- Navbar
- App NavBar
- Dashboard Graphics (?)
- Notifications
- Chat
- AddTicket
- CreateClient
- EditClient
- CreateCompany
- EditCompany
- Edit Profile
- Admin 
- Invite users
- Assign roles
- Chat
- Create a ticket


<br>


# [ Server / Backend](https://miro.com/app/board/o9J_kwDw1uU=/)


## Models

**User model**

```javascript
{
  email: { 
      type: String, 
      required: true, 
      unique: true },
      trim : true
}
          
 password: { 
     type: String, 
     required: true },
 name: {
     type:String,
     required: true,
 }
 lastName: {
     type:String,
     required: true,
 }

telephone: {
     type:Number,
     required: true,
 }
company: { 
    type: Schema.Types.ObjectId, 
    ref:'Company',
    required: false,
    },
        
role: { 
    type: String,
    required: false,
    enum : ['admin', 'agent', 'analyst','client'],
    default : 'agent'    
    },
        
clientRole: { 
    type: String,
    required: false,
    enum : ['owner', 'standard', 'partners'],
    default : 'standard'    
    },
        
        
teams: [ { 
    type: Schema.Types.ObjectId, 
    ref:'Team' } ]
    
tickets: [ { 
    type: Schema.Types.ObjectId, 
    ref:'Ticket' } ]
    
chat: [ { 
    type: Schema.Types.ObjectId, 
    ref:'Chat' } ]

}

{
    timestamps:true,
}
```
**Team model**

```javascript

 teamName: {
     type:String,
     required: true,
 }
 
        
 teamMembers: [ { 
    type: Schema.Types.ObjectId, 
    ref:'User' } ]

company: { 
    type: Schema.Types.ObjectId, 
    ref:'Company',
    required: false,
    },
        
teamAccess: { 
    type: String,
    required: false,
    enum : ['admin', 'agent',                       'analyst'],
    default : 'agent'    
    },
        

}

{
    timestamps:true,
}
```


**Company model**

```javascript
 {
     
    name: {
    type:String,
    required: true,
 }
     
{
    owner: {
    type: Schema.Types.ObjectId, 
    ref:'User',
    type:String,
    required: false,
 }
    users: [{ 
    type: Schema.Types.ObjectId, 
    ref:'User',
    required: true,
    }],
        
    category: { 
    type: String,
    required: true,
    enum : ['paid', 'free user', 'trial'],
    default : 'free user'    
    },

    becameClientDate: {
    type:Date,
    required: false,
     }
        
        
teams: [ { 
    type: Schema.Types.ObjectId, 
    ref:'Team' } ]
    
tickets: [ { 
    type: Schema.Types.ObjectId, 
    ref:'Ticket' } ]
    
chats: [ { 
    type: Schema.Types.ObjectId, 
    ref:'Chat' } ]
    

}

{
    timestamps:true,
}
 
```



**Ticket model**

```javascript=
{
    
    {
    subject: {
    type:String,
    required: true,
    }
        
    description: {
    type:String,
    required: true,
    }
    
    category: {
    type:String,
    required: true,
    enum : ['Technical issue', 'How to', 'Sales     question', 'Cancel my plan', 'Feature           request'],
    default : 'Technical issue'    
     }
    
    priority: {
    type:String,
    required: false,
    enum : ['High', 'Medium', 'Low'],
    default : 'Low' 
     }
    
    status: {
    type:String,
    required: false,
    enum : ['New','Assigned', 'In progress',       'Solved', 'Discarded','Stand by','Closed'],
    default : 'New' 
     }
        
    agent: {
    type: Schema.Types.ObjectId, 
    ref:'User',
    type:String,
    required: false,
 }
        
    user: {
    type: Schema.Types.ObjectId, 
    ref:'User',
    type:String,
    required: false,
 }
        
    company: {
    type: Schema.Types.ObjectId, 
    ref:'Company',
    type:String,
    required: false,
 }
        
    closeDate: {
    type:Date,
    required: false,
     }
    }
    
    {
    timestamps:true,
}
        
```
        
**Chat model**

```javascript=

  {  
    {
    subject: {
    type:String,
    required: true,
    }
        
    
    category: {
    type:String,
    required: true,
    enum : ['Technical issue', 'How to', 'Sales     question', 'Cancel my plan', 'Feature           request'],
    default : 'Technical issue'    
     }
    
    priority: {
    type:String,
    required: false,
    enum : ['High', 'Medium', 'Low'],
    default : 'Low' 
     }
    
    status: {
    type:String,
    required: false,
    enum : ['New','Assigned', 'In progress',       'Solved', 'No response','Sent as               ticket','Closed'],
    default : 'New' 
     }
        
    agent: {
    type: Schema.Types.ObjectId, 
    ref:'User',
    type:String,
    required: false,
 }
        
    user: {
    type: Schema.Types.ObjectId, 
    ref:'User',
    type:String,
    required: false,
 }
        
    company: {
    type: Schema.Types.ObjectId, 
    ref:'Company',
    type:String,
    required: false,
 }
        
    closeDate: {
    type:Date,
    required: false,
     }
        
}

{
    timestamps:true,
}
```




<br>


## API Endpoints (backend routes)

| HTTP Method | URL                    | Request Body                 | Success status | Error Status | Description                                                  |
| ----------- | ---------------------- | ---------------------------- | -------------- | ------------ | ------------------------------------------------------------ |
| GET         | `/auth/profile    `    | Saved session                | 200            | 404          | Check if user is logged in and return profile page           |
| POST        | `/auth/signup`         | {name, email, password}      | 201            | 404          | Checks if fields not empty (422) and user not exists (409), then create user with encrypted password, and store user in session |
| POST        | `/auth/login`          | {username, password}         | 200            | 401          | Checks if fields not empty (422), if user exists (404), and if password matches (404), then stores user in session |
| POST        | `/auth/logout`         |                              | 204            | 400          | Logs out the user                                            |
| GET         | `/api/:clientId/clients`     |                              |                | 400          | Show all clients                                         |
| GET         | `/api/:clientId/clients/:oneClientId` |                              |                |              | Show specific client from client list                                    |
| POST        | `/api/:clientId/clients/create`     | { name, img, players }       | 201            | 400          | Create and save a new client                             |
| PUT         | `/api/:clientId/clients/:oneClientId/edit` | { name, img, players }       | 200            | 400          | edit client                                              |
| DELETE      | `/api//api/:clientId/clients/:oneClientId/delete` |                              | 201            | 400          | delete tournament                                            |
                    |


<br>

## API's

-Hubspot
-Google Auth

<br>

## Packages

-Chart.js

<br>


## Links


### Git

The url to your repository and to your deployed project

[Client repository Link](https://github.com/screeeen/project-client)

[Server repository Link](https://github.com/screeeen/project-server)

[Deployed App Link](http://heroku.com)

### Slides

[Slides Link](http://slides.com) - The url to your *public* presentation slides

### Contributors

Andrea Arestigue - <github-username> - <linkedin-profile-link>



